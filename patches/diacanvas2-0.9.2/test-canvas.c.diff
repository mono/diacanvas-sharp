--- test-canvas.c	2003-03-07 21:54:45.000000000 +0100
+++ ../../diacanvas2-0.9.2.old/demos/test-canvas.c	2003-07-19 11:24:34.000000000 +0200
@@ -236,7 +236,7 @@
 		if (view->focus_item) {
 			DiaCanvasItem *item = view->focus_item->item;
 			if (item->parent)
-				dia_canvas_groupable_remove (item->parent, item);
+				dia_canvas_groupable_remove (DIA_CANVAS_GROUPABLE (item->parent), item);
 		}
 		break;
 	case EDIT_DEL_SELECTED:
@@ -245,7 +245,7 @@
 			gint len = g_list_length (view->selected_items);
 			item = DIA_CANVAS_VIEW_ITEM (view->selected_items->data)->item;
 			if (item->parent) {
-				dia_canvas_groupable_remove (item->parent, item);
+				dia_canvas_groupable_remove (DIA_CANVAS_GROUPABLE (item->parent), item);
 			}
 		}
 		break;
@@ -436,7 +436,7 @@
 					      g_random_int_range (0, 200),
 					      g_random_int_range (180, 255)),
 			NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 
 	for (i = 0; i < g_random_int_range (2, 6); i++) {
@@ -482,7 +482,7 @@
 						      g_random_int_range (50, 200)),
 
 			     NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 
 	dia_canvas_item_move (item, g_random_int_range (0, 255),
@@ -630,11 +630,11 @@
 
 	if (DIA_IS_CANVAS_GROUPABLE (item)) {
 		DiaCanvasIter iter;
-		if (dia_canvas_groupable_get_iter (item, &iter)) do {
+		if (dia_canvas_groupable_get_iter (DIA_CANVAS_GROUPABLE (item), &iter)) do {
 			DiaCanvasItem *child;
-			child = dia_canvas_groupable_value (item, &iter);
+			child = dia_canvas_groupable_value (DIA_CANVAS_GROUPABLE (item), &iter);
 			print_canvas_hierarchy (child, level + 1);
-		} while (dia_canvas_groupable_next (item, &iter));
+		} while (dia_canvas_groupable_next (DIA_CANVAS_GROUPABLE (item), &iter));
 	}
 }
 
@@ -782,7 +782,7 @@
 			     "height", 75.0,
 			     "color", DIA_COLOR_A (100, 50, 180, 250),
 			     NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 
 	dia_canvas_item_rotate (item, 15.0);
@@ -799,7 +799,7 @@
 			     //"height", 100.0,
 			     //"color", DIA_COLOR_A (160, 50, 120, 190),
 			     NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 
 	dia_canvas_item_move (item, 50.0, 50.0);
@@ -818,7 +818,7 @@
 				   "orthogonal",  TRUE,
 				   "horizontal", TRUE,
 				   NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 
 	dia_canvas_item_move (item, 30.0, 0.0);
@@ -844,7 +844,7 @@
 				   "head_color", DIA_COLOR_A (0, 0, 70, 255),
 				   "head_fill_color", DIA_COLOR_A (0, 0, 70, 150),
 				   NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 
 	g_signal_connect (item, "event", G_CALLBACK (canvas_item_event), NULL);
@@ -865,7 +865,7 @@
 			     "width", (gdouble) gdk_pixbuf_get_width (pixbuf),
 			     "height", (gdouble) gdk_pixbuf_get_height (pixbuf),
 			     NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 
 	//dia_canvas_item_rotate (item, 154.0);
@@ -880,7 +880,7 @@
 				    "width", 100.0,
 				    "height", 100.0,
 				    NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 
 	dia_canvas_item_move (item, 100.0, 100.0);
@@ -920,7 +920,7 @@
 				    "width", 200.0,
 				    "height", 30.0,
 				    NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 	/* TODO: This is a hack! */
 	g_object_set (DIA_TEXTBOX (item)->text,
@@ -938,7 +938,7 @@
 				    "width", 200.0,
 				    "height", 40.0,
 				    NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 	/* TODO: This is a hack! */
 	g_object_set (DIA_TEXTBOX (item)->text,
@@ -958,7 +958,7 @@
 				    "width", 200.0,
 				    "height", 40.0,
 				    NULL);
-	dia_canvas_groupable_add (canvas->root, item);
+	dia_canvas_groupable_add (DIA_CANVAS_GROUPABLE (canvas->root), item);
 	g_object_weak_ref (G_OBJECT (item), item_destroyed, NULL);
 	/* TODO: This is a hack! */
 	g_object_set (DIA_TEXTBOX (item)->text,
